<div class="shipMode_container">
    <RENDER_FORM id="cart_chooseShiper" action="{form>action}">
        <RENDER_IFSET what="moreThanOne>shipModes">
            <NORENDER>There is more than 1 ship modes, the user has to select one</NORENDER>
            <div class="shipMode_chooseMode">
                <RENDER_VALUE what="i18n>chooseShippingMode"/>
            </div>
            <table cellspacing="0" class="border-top border-left border-right">
                <RENDER_LOOP what="shipModes">
                    <tr onclick="$('shipModes_s{shipModes>id}').checked=true;">
                        <td class="shipMode_input border-bottom border-right">
                            <input type="radio" name="shipMode" value="{shipModes>id}" id="shipModes_s{shipModes>id}"/>
                        </td>
                        <td class="shipMode_image border-bottom border-right">
                            <img src="{shipModes>logo}" alt="logo: {shipModes>name}" title="logo: {shipModes>name}"/>
                        </td>
                        <td class="shipMode_nameDesc_container border-bottom border-right">
                            <div class="shipMode_name">
                                <RENDER_VALUE what="shipModes>name"/>
                            </div>
                            <div class="shipMode_description">
                                <RENDER_VALUE what="shipModes>description"/>
                            </div>
                        </td>
                        <td class="shipMode_price border-bottom">
                            <RENDER_VALUE what="shipModes>price"/>
                        </td>
                    </tr>
                </RENDER_LOOP>
                <RENDER_IFSET what="comeTakeIt>activated">
                    <NORENDER>The customer may also come and take the product</NORENDER>
                    <tr onclick="$('shipModes_s1000').checked=true;">
                        <td class="shipMode_input border-bottom border-right">
                            <input type="radio" name="shipMode" value="1000" id="shipModes_s1000"/>
                        </td>
                        <td class="shipMode_image border-bottom border-right">
                            <img src="/images/shared/icons/bank1/comeAndTakeIt.png" alt="logo: {i18n>chooseToComeAndTakeIt}" title="logo: {i18n>chooseToComeAndTakeIt}"/>
                        </td>
                        <td class="shipMode_nameDescCome_container border-bottom border-right">
                            <div class="shipMode_name">
                                <RENDER_VALUE what="i18n>chooseToComeAndTakeIt"/>
                            </div>
                            <div class="shipMode_description">
                                <RENDER_IFSET what="comeTakeIt_singleAddress>id">
                                    <NORENDER>There is only 1 address, so we just display it</NORENDER>
                                    <input type="hidden" name="comeAndTakeIt_address" value="{comeTakeIt_singleAddress>id}"/>
                                    <RENDER_VALUE what="i18n>comeTakeIt_singleAddress"/>
                                    <div class="shipMode_address">
                                        <RENDER_VALUE what="comeTakeIt_singleAddress>addressMultiline"/>
                                    </div>
                                </RENDER_IFSET>
                                <RENDER_IFNOTSET what="comeTakeIt_singleAddress>id">
                                    <NORENDER>There is more than 1 address, so the user has to choose one of them</NORENDER>
                                    <RENDER_VALUE what="i18n>chooseToComeAndTakeIt_chooseIt"/><br />
                                    <select name="comeAndTakeIt_address" class="shipMode_listBox">
                                        <RENDER_LOOP what="comeTakeIt_addresses">
                                            <option value="{comeTakeIt_addresses>id}">
                                                <RENDER_VALUE what="comeTakeIt_addresses>address"/>
                                            </option>
                                        </RENDER_LOOP>
                                    </select>
                                </RENDER_IFNOTSET>
                            </div>
                        </td>
                        <td class="shipMode_price border-bottom">
                            <RENDER_IFSET what="comeTakeIt>price">
                                <RENDER_VALUE what="comeTakeIt>price"/>
                            </RENDER_IFSET>
                            <RENDER_IFNOTSET what="comeTakeIt>price">
                                <RENDER_VALUE what="i18n>free"/>
                            </RENDER_IFNOTSET>
                        </td>
                    </tr>
               </RENDER_IFSET>
            </table>
        </RENDER_IFSET>
        <RENDER_IFNOTSET what="moreThanOne>shipModes">
            <RENDER_IFSET what="comeTakeIt>activated">
                <NORENDER>The customer has to go and take it right at a given address</NORENDER>
                <input type="hidden" name="shipMode" value="1000"/>
                <RENDER_IFSET what="comeTakeIt_singleAddress>id">
                    <NORENDER>There is only 1 address, so we just display it</NORENDER>
                    <div class="shipMode_noTable">
                        <input type="hidden" name="comeAndTakeIt_address" value="{comeTakeIt_singleAddress>id}"/>
                        <RENDER_VALUE what="i18n>comeTakeIt_singleAddress"/>
                    </div>
                    <div class="shipMode_address">
                        <RENDER_VALUE what="comeTakeIt_singleAddress>addressMultiline"/>
                    </div>
                    <RENDER_IFSET what="comeTakeIt>price">
                        <div class="shipMode_severalAddress_price">
                            <RENDER_VALUE what="i18n>comeTakeIt_cost"/>
                        </div>
                    </RENDER_IFSET>
                    <RENDER_IFNOTSET what="comeTakeIt>price">
                        <div class="shipMode_severalAddress_price">
                            <RENDER_VALUE what="i18n>comeTakeIt_free"/>
                        </div>
                    </RENDER_IFNOTSET>
                </RENDER_IFSET>
                <RENDER_IFNOTSET what="comeTakeIt_singleAddress>id">
                    <NORENDER>There is more than 1 address, so the user has to choose one of them</NORENDER>
                    <div class="shipMode_noTable">
                        <RENDER_VALUE what="i18n>comeTakeIt_chooseAddress"/>
                    </div>
                    <table cellspacing="0">
                        <RENDER_LOOP what="comeTakeIt_addresses">
                            <tr onclick="$('shipMode_address{comeTakeIt_addresses>id}').checked=true;">
                                <td>
                                    <input type="radio" name="comeAndTakeIt_address" value="{comeTakeIt_addresses>id}" id="shipMode_address{comeTakeIt_addresses>id}"/>
                                </td>
                                <td>
                                    <div class="shipMode_severalAddress">
                                        <RENDER_VALUE what="comeTakeIt_addresses>addressMultiline"/>
                                    </div>
                                </td>
                            </tr>
                        </RENDER_LOOP>
                    </table>
                        <RENDER_IFSET what="comeTakeIt>price">
                            <div class="shipMode_severalAddress_price">
                                <RENDER_VALUE what="i18n>comeTakeIt_cost"/>
                            </div>
                        </RENDER_IFSET>
                        <RENDER_IFNOTSET what="comeTakeIt>price">
                            <div class="shipMode_severalAddress_price">
                                <RENDER_VALUE what="i18n>comeTakeIt_free"/>
                            </div>
                        </RENDER_IFNOTSET>
                </RENDER_IFNOTSET>
            </RENDER_IFSET>
            <RENDER_IFNOTSET what="comeTakeIt>activated">
                <NORENDER>There is only 1 ship mode, so the user has just to confirm</NORENDER>
                <div class="shipMode_noTable">
                    <input type="hidden" name="shipMode" value="{shipMode>id}"/>
                    <RENDER_VALUE what="i18n>shipper_is"/>&#160;
                    <span class="shipMode_name_oneShipper">
                        <RENDER_VALUE what="shipMode>name"/>
                    </span>
                    <div class="shipMode_image_oneShipper">
                        <img src="{shipMode>logo}"/> 
                    </div>
                    <div class="shipMode_description">
                        <RENDER_VALUE what="shipMode>description"/>
                    </div>
                    <div class="shipMode_cost">
                        <RENDER_VALUE what="i18n>comeTakeIt_cost"/>
                    </div>
                </div>
            </RENDER_IFNOTSET>
        </RENDER_IFNOTSET>
        <div class="shipMode_validate">
            <input type="submit" value="Valider le mode de livraison"/>
        </div>
    </RENDER_FORM>
</div>